{"version":3,"sources":["webpack:///./src/ui/dc-radio.tsx","webpack:///./node_modules/lit-html/directives/class-map.js","webpack:///./src/ui/dc-select.tsx","webpack:///./src/ui/dc-checkbox.tsx","webpack:///./src/models/v1/ShippingAddress.ts","webpack:///./src/models/v1/BillingAddress.ts","webpack:///./src/models/v1/CheckoutData.ts","webpack:///./src/cc/transport_modes.tsx","webpack:///./src/cc/payment_modes.tsx","webpack:///./src/util/CheckoutManager.ts","webpack:///./src/cc/shipping_and_billing_info.tsx","webpack:///./src/pages/megrendeles.tsx"],"names":["DEFAULTS","name","itemId","checked","content","html","isBrowser","customElements","define","component","host","props","undefined","Math","random","toString","substr","e","stopPropagation","dispatchEvent","CustomEvent","detail","onChange","useShadowDOM","observedAttributes","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","call","slice","constructor","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","ClassList","element","this","classes","Set","changed","_step","_iterator","getAttribute","split","cls","add","key","classString","forEach","setAttribute","previousClassesCache","WeakMap","classMap","classInfo","part","committer","parts","Error","previousClasses","get","strings","join","set","classList","remove","has","commit","multiSelect","dataSource","selectedValues","selectedIndices","label","useState","setDataSource","setSelectedIndices","opened","setOpened","useEffect","onClickedOutside","contains","target","onCloseOnEscKey","document","addEventListener","removeEventListener","tempSelectedValues","newDataSource","map","item","v","reduce","aggr","currentIndex","concat","some","selVal","selInd","index","newIndices","filter","selectedIndex","selectedValue","onItemClicked","selected","readonly","setChecked","componentId","setComponentId","id","DCCheckbox","ref","useCustomElement","ShippingAddress","BillingAddress","isCompany","CHECKOUT_STATES","CheckoutData","version","creationDate","Date","getTime","checkoutState","transportMode","paymentMode","shippingAddress","billingAddress","tAndCAccepted","setSelectedPlace","checkoutData","place","zip","city","setCheckoutState","getNextState","getCurrentStateIndex","getPreviousState","findIndex","state","getValidationMessage","field","isNumeric","validateHungarianTaxNumber","validateEmail","mode","actionTriggered","TRANSPORT_MODES","personal_collection","home_delivery","none","setCheckoutData","validationMessage","setValidationMessage","validationResult","validateAllField","isEmpty","handleChange","handlePlaceChange","selectedPlace","homeDeliveryPlaces","header","TransportModes","PAYMENT_MODES","cash","bank_transfer","card","PaymentModes","CheckoutManager","sessionStorage","saveCheckoutData","JSON","stringify","checkoutDataVersion","removeCheckoutData","removeItem","getCheckoutData","parse","CheckoutDataV1","dispatchCheckoutChanged","validations","setValidations","toValidateList","email","phone","number","billingCity","billingStreet","street","billingZip","shippingName","shippingCity","shippingStreet","shippingZip","shippingRemark","remark","billingCompanyName","companyName","billingTaxNumber","taxNumber","billingPersonalName","personalName","evaluation","keys","validateField","validatedField","message","countryPrefix","shippingAddressTemplate","preventDefault","billingAddressTemplate","ShippingAndBillingInfo","CheckoutPage","globalDispatch","useContext","GlobalDispatchContext","globalState","GlobalStateContext","actionShippingAndBilling","setActionShippingAndBilling","actionTransportModes","setActionTransportModes","actionPaymentModes","setActionPaymentModes","getCheckoutMode","elem","elemIndex","handleCheckoutChange","window","checkoutTemplate","className","summary","actionFinished","href","onClick","navigate","CartManager","localStorage","removeShoppingCart","type","num","title","numberOfItems"],"mappings":"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","file":"component---src-pages-megrendeles-tsx-a97a01d7d2e51003f5e7.js","sourcesContent":["import { useEffect, useState, component } from \"haunted\";\nimport \"./dc-radio.scss\";\n\nimport { html, TemplateResult } from \"lit-html\";\nimport { HauntedFunc } from \"../util/customhooks\";\n\nconst observedAttributes: (keyof Properties)[] = [];\nconst useShadowDOM = false;\nconst name = \"dc-radio\";\n\nconst DEFAULTS: Properties = {\n\tname: \"\",\n\titemId: \"\",\n\tchecked: false,\n\tcontent: html``,\n};\n\ninterface Properties {\n\tname: string;\n\titemId: string;\n\tchecked: boolean;\n\tcontent: TemplateResult;\n}\n\ninterface ChangeEventDetail {\n\titemId: string;\n}\n\nexport interface ChangeEvent {\n\tdetail: ChangeEventDetail;\n}\n\nconst Component: HauntedFunc<Properties> = (host) => {\n\tconst props: Properties = {\n\t\tname: host.name !== undefined ? host.name : `_${Math.random().toString(36).substr(2, 9)}`,\n\t\titemId: host.itemId !== undefined ? host.itemId : DEFAULTS.itemId,\n\t\tchecked: host.checked !== undefined ? host.checked : DEFAULTS.checked,\n\t\tcontent: host.content || DEFAULTS.content,\n\t};\n\n\t// Event Handlers\n\n\tconst onChange = (e: CustomEvent, itemId: string) => {\n\t\te.stopPropagation();\n\t\thost.dispatchEvent(\n\t\t\tnew CustomEvent<ChangeEventDetail>(\"change\", {\n\t\t\t\tdetail: {\n\t\t\t\t\titemId,\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t};\n\n\t// COMPONENT\n\n\t// TEMPLATE\n\n\treturn html`\n\t\t<label class=\"flex items-center\">\n\t\t\t<div class=\"container flex w-full items-center\">\n\t\t\t\t<div class=\"w-9 mr-2 relative\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=${props.name}\n\t\t\t\t\t\t?checked=${props.checked}\n\t\t\t\t\t\t@change=${(e: CustomEvent) => onChange(e, props.itemId)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"checkmark\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"\">${props.content}</div>\n\t\t\t</div>\n\t\t</label>\n\t`;\n};\n\nif (isBrowser()) {\n\tcustomElements.define(\n\t\tname,\n\t\tcomponent<HTMLElement & Properties>(Component, {\n\t\t\tuseShadowDOM,\n\t\t\tobservedAttributes,\n\t\t})\n\t);\n}\n// React Wrapper\n\nimport React from \"react\";\nimport useCustomElement from \"../util/useCustomElement\";\nimport { isBrowser } from \"../util/helper\";\n\nconst DCRadio = (props) => {\n\tconst [ref] = useCustomElement(props);\n\treturn <dc-radio ref={ref} />;\n};\n\nexport default DCRadio;\n","import \"core-js/modules/es6.weak-map\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _classCallCheck from \"C:/Projects/my/tersus/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Projects/my/tersus/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributePart, directive, PropertyPart } from '../lit-html.js'; // IE11 doesn't support classList on SVG elements, so we emulate it with a Set\n\nvar ClassList = /*#__PURE__*/function () {\n  function ClassList(element) {\n    _classCallCheck(this, ClassList);\n\n    this.classes = new Set();\n    this.changed = false;\n    this.element = element;\n    var classList = (element.getAttribute('class') || '').split(/\\s+/);\n\n    var _iterator = _createForOfIteratorHelper(classList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var cls = _step.value;\n        this.classes.add(cls);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  _createClass(ClassList, [{\n    key: \"add\",\n    value: function add(cls) {\n      this.classes.add(cls);\n      this.changed = true;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(cls) {\n      this.classes[\"delete\"](cls);\n      this.changed = true;\n    }\n  }, {\n    key: \"commit\",\n    value: function commit() {\n      if (this.changed) {\n        var classString = '';\n        this.classes.forEach(function (cls) {\n          return classString += cls + ' ';\n        });\n        this.element.setAttribute('class', classString);\n      }\n    }\n  }]);\n\n  return ClassList;\n}();\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\n\n\nvar previousClassesCache = new WeakMap();\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `class` if the property value is truthy; if the property value is\n * falsey, the property name is removed from the element's `class`. For example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\n\nexport var classMap = directive(function (classInfo) {\n  return function (part) {\n    if (!(part instanceof AttributePart) || part instanceof PropertyPart || part.committer.name !== 'class' || part.committer.parts.length > 1) {\n      throw new Error('The `classMap` directive must be used in the `class` attribute ' + 'and must be the only part in the attribute.');\n    }\n\n    var committer = part.committer;\n    var element = committer.element;\n    var previousClasses = previousClassesCache.get(part);\n\n    if (previousClasses === undefined) {\n      // Write static classes once\n      // Use setAttribute() because className isn't a string on SVG elements\n      element.setAttribute('class', committer.strings.join(' '));\n      previousClassesCache.set(part, previousClasses = new Set());\n    }\n\n    var classList = element.classList || new ClassList(element); // Remove old classes that no longer apply\n    // We use forEach() instead of for-of so that re don't require down-level\n    // iteration.\n\n    previousClasses.forEach(function (name) {\n      if (!(name in classInfo)) {\n        classList.remove(name);\n        previousClasses[\"delete\"](name);\n      }\n    }); // Add or remove classes based on their classMap value\n\n    for (var name in classInfo) {\n      var value = classInfo[name];\n\n      if (value != previousClasses.has(name)) {\n        // We explicitly want a loose truthy check of `value` because it seems\n        // more convenient that '' and 0 are skipped.\n        if (value) {\n          classList.add(name);\n          previousClasses.add(name);\n        } else {\n          classList.remove(name);\n          previousClasses[\"delete\"](name);\n        }\n      }\n    }\n\n    if (typeof classList.commit === 'function') {\n      classList.commit();\n    }\n  };\n});","import \"./dc-select.scss\";\n\nimport { html } from \"lit-html\";\nimport { classMap } from \"lit-html/directives/class-map\";\n\nimport { useState, useEffect, component } from \"haunted\";\nimport { HauntedFunc } from \"../util/customhooks\";\n\nconst observedAttributes: (keyof Properties)[] = [];\nconst useShadowDOM = false;\nconst name = \"dc-select\";\n\nconst DEFAULTS: Properties = {\n\tmultiSelect: false,\n\tdataSource: [] as string[],\n\tselectedValues: [] as number[],\n\tselectedIndices: [] as number[],\n};\n\ninterface Properties {\n\tmultiSelect: boolean;\n\tdataSource: (SelectItem | { label: string; value: number } | string | number)[];\n\tselectedValues: string | number | (string | number)[];\n\tselectedIndices: number[];\n\tlabel?: string;\n}\n\ninterface ChangeEventDetail {\n\tselectedIndex?: number;\n\tselectedIndices?: number[];\n\tselectedValue?: string;\n\tselectedValues?: string[];\n}\n\nexport interface SelectItem {\n\tlabel: string;\n\tvalue: string;\n}\n\nexport interface SelectChangeEvent {\n\tdetail: ChangeEventDetail;\n}\n\nconst Component: HauntedFunc<Properties> = (host) => {\n\tconst props: Properties = {\n\t\tmultiSelect: host.multiSelect !== undefined ? host.multiSelect : DEFAULTS.multiSelect,\n\t\tdataSource: host.dataSource !== undefined ? host.dataSource : DEFAULTS.dataSource,\n\t\tselectedValues: host.selectedValues !== undefined ? host.selectedValues : DEFAULTS.selectedValues,\n\t\tselectedIndices: host.selectedIndices !== undefined ? host.selectedIndices : DEFAULTS.selectedIndices,\n\t\tlabel: host.label !== undefined ? host.label : DEFAULTS.label,\n\t};\n\n\t// Event Handlers\n\n\tconst onItemClicked = (index: number) => {\n\t\treturn (_e: Event) => {\n\t\t\tlet newIndices: number[] = [];\n\t\t\tif (props.multiSelect) {\n\t\t\t\tnewIndices = selectedIndices.some((i) => i === index)\n\t\t\t\t\t? selectedIndices.filter((i) => i !== index)\n\t\t\t\t\t: selectedIndices.concat([index]);\n\t\t\t} else {\n\t\t\t\tnewIndices = [index];\n\t\t\t}\n\n\t\t\tsetSelectedIndices(newIndices);\n\n\t\t\tif (props.multiSelect) {\n\t\t\t\thost.dispatchEvent(\n\t\t\t\t\tnew CustomEvent(\"change\", {\n\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\tselectedIndices: newIndices,\n\t\t\t\t\t\t\tselectedValues: newIndices.map((i) => dataSource[i].value),\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsetOpened(false);\n\t\t\t\thost.dispatchEvent(\n\t\t\t\t\tnew CustomEvent(\"change\", {\n\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\tselectedIndex: index,\n\t\t\t\t\t\t\tselectedValue: dataSource[index].value,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t};\n\n\t// COMPONENT\n\n\tconst [dataSource, setDataSource] = useState<SelectItem[]>([]);\n\tconst [selectedIndices, setSelectedIndices] = useState<number[]>([]);\n\tconst [opened, setOpened] = useState(false);\n\n\tconst init = () => {\n\t\tconst onClickedOutside = (e: Event) => {\n\t\t\tif (!host.contains(e.target as Node)) {\n\t\t\t\tsetOpened(false);\n\t\t\t}\n\t\t};\n\t\tconst onCloseOnEscKey = (e: KeyboardEvent) => {\n\t\t\tif (e.key === \"Escape\") {\n\t\t\t\tsetOpened(false);\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener(\"keyup\", onCloseOnEscKey, true);\n\t\tdocument.addEventListener(\"click\", onClickedOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"keyup\", onCloseOnEscKey);\n\t\t\tdocument.removeEventListener(\"click\", onClickedOutside);\n\t\t};\n\t};\n\n\tuseEffect(init, []);\n\n\tuseEffect(() => {\n\t\tconst newDataSource = props.dataSource.map((item) => {\n\t\t\tif (typeof item === \"string\") {\n\t\t\t\treturn { label: item, value: item };\n\t\t\t} else if (typeof item === \"number\") {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item.toString(),\n\t\t\t\t\tvalue: item.toString(),\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tif (typeof item.value === \"number\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\tvalue: item.value.toString(),\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn item as SelectItem;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsetDataSource(newDataSource);\n\n\t\tif (props.selectedValues) {\n\t\t\tlet tempSelectedValues: string[];\n\t\t\tif (typeof props.selectedValues === \"string\") {\n\t\t\t\ttempSelectedValues = [props.selectedValues];\n\t\t\t} else if (typeof props.selectedValues === \"number\") {\n\t\t\t\ttempSelectedValues = [props.selectedValues.toString()];\n\t\t\t} else {\n\t\t\t\ttempSelectedValues = props.selectedValues.map((v) => (typeof v === \"number\" ? v.toString() : v));\n\t\t\t}\n\t\t\tsetSelectedIndices(\n\t\t\t\tnewDataSource.reduce((aggr: number[], item, currentIndex) => {\n\t\t\t\t\treturn aggr.concat(\n\t\t\t\t\t\ttempSelectedValues.some((selVal) => selVal === item.value) ? [currentIndex] : []\n\t\t\t\t\t);\n\t\t\t\t}, [])\n\t\t\t);\n\t\t} else {\n\t\t\tsetSelectedIndices(props.selectedIndices || []);\n\t\t}\n\t}, [props.dataSource, props.selectedIndices, props.selectedValues]);\n\n\t// TEMPLATE\n\n\t// TODO Add PerfectScrollbar\n\t// TODO Handle opening upwards if needed (with adding an onOpen event)\n\treturn html`\n\t\t<div class=${classMap({ \"dc-select\": true, opened })} @click=${() => setOpened(!opened)}>\n\t\t\t${props.label !== undefined ? html`<label class=\"form-label\">${props.label}</label>` : \"\"}\n\t\t\t<input\n\t\t\t\tclass=\"select-input\"\n\t\t\t\treadonly=\"readonly\"\n\t\t\t\tvalue=${selectedIndices.map((selInd) => dataSource[selInd].label).join(\", \")}\n\t\t\t/>\n\t\t\t${opened\n\t\t\t\t? html`\n\t\t\t\t\t\t<ul class=\"select-items\">\n\t\t\t\t\t\t\t${dataSource.map(\n\t\t\t\t\t\t\t\t(item, index) =>\n\t\t\t\t\t\t\t\t\thtml`\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t@click=${onItemClicked(index)}\n\t\t\t\t\t\t\t\t\t\t\tclass=${classMap({\n\t\t\t\t\t\t\t\t\t\t\t\tselected: selectedIndices.some((i) => i === index),\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t${item.label}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t  `\n\t\t\t\t: \"\"}\n\t\t</div>\n\t`;\n};\n\nif (isBrowser()) {\n\tcustomElements.define(\n\t\tname,\n\t\tcomponent<HTMLElement & Properties>(Component, {\n\t\t\tuseShadowDOM,\n\t\t\tobservedAttributes,\n\t\t})\n\t);\n}\n// React Wrapper\n\nimport React from \"react\";\nimport useCustomElement from \"../util/useCustomElement\";\nimport { isBrowser } from \"../util/helper\";\n\nconst DCSelect = (props) => {\n\tconst [ref] = useCustomElement(props);\n\treturn <dc-select ref={ref} />;\n};\n\nexport default DCSelect;\n","import \"./dc-checkbox.scss\";\n\nimport { html } from \"lit-html\";\n\nimport { useEffect, useState, component } from \"haunted\";\nimport { HauntedFunc } from \"../util/customhooks\";\n\nconst observedAttributes: (keyof Properties)[] = [];\nconst useShadowDOM = false;\nconst name = \"dc-checkbox\";\n\nconst DEFAULTS: Properties = {\n\tchecked: false,\n\tlabel: \"\",\n\treadonly: false,\n};\n\ninterface Properties {\n\tchecked: boolean;\n\tlabel: string;\n\treadonly?: boolean;\n}\n\ninterface ChangeEventDetail {\n\tchecked: boolean;\n}\n\nexport interface ChangeEvent {\n\tdetail: ChangeEventDetail;\n}\n\nconst Component: HauntedFunc<Properties> = (host) => {\n\tconst props: Properties = {\n\t\tchecked: host.checked !== undefined ? host.checked : DEFAULTS.checked,\n\t\tlabel: host.label !== undefined ? host.label : DEFAULTS.label,\n\t\treadonly: host.readonly !== undefined ? host.readonly : DEFAULTS.readonly,\n\t};\n\n\t// Event Handlers\n\n\tconst onClicked = (_e: Event) => {\n\t\tif (!props.readonly) {\n\t\t\tsetChecked(!checked);\n\t\t\thost.dispatchEvent(\n\t\t\t\tnew CustomEvent<ChangeEventDetail>(\"change\", {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tchecked,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\t// COMPONENT\n\n\tconst [checked, setChecked] = useState(false);\n\tconst [componentId, setComponentId] = useState<string>(\"\");\n\n\tuseEffect(() => {\n\t\tsetChecked(props.checked);\n\t}, [props.checked]);\n\n\tuseEffect(() => {\n\t\tconst id = `_${name}_${Math.random().toString(36).substr(2, 9)}`;\n\t\tsetComponentId(id);\n\t}, []);\n\n\t// TEMPLATE\n\n\treturn html`\n\t\t<input\n\t\t\ttype=\"checkbox\"\n\t\t\tclass=\"dc-checkbox\"\n\t\t\tid=\"${componentId}\"\n\t\t\t@click=${onClicked}\n\t\t\t?checked=${checked}\n\t\t\t?readonly=${props.readonly}\n\t\t/>\n\t\t<label class=\"form-label\" for=\"${componentId}\">${props.label}</label>\n\t`;\n};\n\nif (isBrowser()) {\n\tcustomElements.define(\n\t\tname,\n\t\tcomponent<HTMLElement & Properties>(Component, {\n\t\t\tuseShadowDOM,\n\t\t\tobservedAttributes,\n\t\t})\n\t);\n}\n// React Wrapper\n\nimport React from \"react\";\nimport useCustomElement from \"../util/useCustomElement\";\nimport { isBrowser } from \"../util/helper\";\n\nconst DCCheckbox = (props) => {\n\tconst [ref] = useCustomElement(props);\n\treturn <dc-checkbox ref={ref} />;\n};\n\nexport default DCCheckbox;\n","export class ShippingAddress {\n\tpublic name!: string;\n\tpublic street!: string;\n\tpublic city!: string;\n\tpublic zip!: string;\n\tpublic remark!: string;\n}\n","export class BillingAddress {\n\tpublic isCompany = false;\n\tpublic personalName!: string;\n\tpublic companyName!: string;\n\tpublic taxNumber!: string;\n\tpublic street!: string;\n\tpublic city!: string;\n\tpublic zip!: string;\n}\n","import { TransportMode } from \"../../cc/transport_modes\";\nimport { PaymentMode } from \"../../cc/payment_modes\";\nimport { Phone } from \"./Phone\";\nimport { ShippingAddress } from \"./ShippingAddress\";\nimport { BillingAddress } from \"./BillingAddress\";\nimport { isEmpty, isNumeric, validateHungarianTaxNumber, validateEmail } from \"../../util/helper\";\nimport { ShoppingCart } from \"./ShoppingCart\";\n\nexport type CheckoutState = \"TRANSPORT_MODES\" | \"PAYMENT_MODES\" | \"SHIPPING_AND_BILLING_INFO\" | \"SUMMARY\";\n\nexport const CHECKOUT_STATES: CheckoutState[] = [\n\t\"TRANSPORT_MODES\",\n\t\"PAYMENT_MODES\",\n\t\"SHIPPING_AND_BILLING_INFO\",\n\t\"SUMMARY\",\n];\n\nexport type ValidationKey =\n\t| \"email\"\n\t| \"phone\"\n\t| \"shippingName\"\n\t| \"shippingStreet\"\n\t| \"shippingCity\"\n\t| \"shippingZip\"\n\t| \"shippingRemark\"\n\t| \"billingPersonalName\"\n\t| \"billingCompanyName\"\n\t| \"billingStreet\"\n\t| \"billingTaxNumber\"\n\t| \"billingCity\"\n\t| \"billingZip\";\n\nexport class CheckoutData {\n\tpublic version = \"v1\";\n\tpublic creationDate: number = new Date().getTime();\n\tpublic checkoutState: CheckoutState = \"TRANSPORT_MODES\";\n\tpublic transportMode: TransportMode = \"none\";\n\tpublic paymentMode: PaymentMode = \"none\";\n\tpublic email!: string;\n\tpublic phone!: Phone;\n\tpublic shippingAddress: ShippingAddress = new ShippingAddress();\n\tpublic billingAddress: BillingAddress = new BillingAddress();\n\tpublic tAndCAccepted = false;\n\n\tpublic static setSelectedPlace(checkoutData: CheckoutData, place: string, zip: string) {\n\t\tif (checkoutData.shippingAddress === undefined) {\n\t\t\tcheckoutData.shippingAddress = new ShippingAddress();\n\t\t}\n\t\tcheckoutData.shippingAddress.city = place;\n\t\tcheckoutData.shippingAddress.zip = zip;\n\t}\n\n\tpublic static setCheckoutState(checkoutData: CheckoutData, checkoutState) {\n\t\tcheckoutData.checkoutState = checkoutState;\n\t}\n\n\tpublic static getNextState = (checkoutData: CheckoutData) => {\n\t\tconst currentIndex = CheckoutData.getCurrentStateIndex(checkoutData);\n\t\tif (currentIndex < CHECKOUT_STATES.length - 1) {\n\t\t\treturn CHECKOUT_STATES[currentIndex + 1];\n\t\t} else {\n\t\t\treturn CHECKOUT_STATES[currentIndex];\n\t\t}\n\t};\n\n\tpublic static getPreviousState = (checkoutData: CheckoutData) => {\n\t\tconst currentIndex = CheckoutData.getCurrentStateIndex(checkoutData);\n\t\tif (currentIndex > 0) {\n\t\t\treturn CHECKOUT_STATES[currentIndex - 1];\n\t\t} else {\n\t\t\treturn CHECKOUT_STATES[currentIndex];\n\t\t}\n\t};\n\n\tpublic static getCurrentStateIndex = (checkoutData: CheckoutData): number => {\n\t\treturn CHECKOUT_STATES.findIndex((state) => state === checkoutData.checkoutState);\n\t};\n\n\tpublic static getValidationMessage = (field: ValidationKey, value: string) => {\n\t\tif (field === \"shippingName\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"shippingStreet\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"shippingZip\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (!isNumeric(value)) {\n\t\t\t\treturn \"Csak számot tartalmazhat\";\n\t\t\t} else if (value.length !== 4) {\n\t\t\t\treturn \"4 karakter lehet csak\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"shippingCity\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"shippingRemark\") {\n\t\t\tif (value !== undefined && value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"billingPersonalName\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"billingCompanyName\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"billingTaxNumber\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (!validateHungarianTaxNumber(value)) {\n\t\t\t\treturn \"Hibás adószám, helyes formátum: XXXXXXXC-Y-ZZ\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"billingStreet\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"billingZip\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (!isNumeric(value)) {\n\t\t\t\treturn \"Csak számot tartalmazhat\";\n\t\t\t} else if (value.length !== 4) {\n\t\t\t\treturn \"4 karakter lehet csak\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"billingCity\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (value.length > 200) {\n\t\t\t\treturn \"Maximum 200 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"email\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (!validateEmail(value)) {\n\t\t\t\treturn \"Email formátum hibás\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (field === \"phone\") {\n\t\t\tif (value === undefined || value.length === 0) {\n\t\t\t\treturn \"Kötelező mező\";\n\t\t\t} else if (!isNumeric(value)) {\n\t\t\t\treturn \"Telefonszám csak számokat tartalmazhat\";\n\t\t\t} else if (value.length > 9) {\n\t\t\t\treturn \"Maximum 9 karakter\";\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t};\n}\n","import { useEffect, useState, component } from \"haunted\";\nimport {\n\tCheckoutMode,\n\tCheckoutChangeEvent,\n\tActionFinishedEvent,\n\tActionType,\n\tActionFinishedEventDetail,\n\tCheckoutChangeEventDetail,\n} from \"../pages/megrendeles\";\nimport homeDeliveryPlaces from \"../../data/home_delivery_places.json\";\n\nimport { html } from \"lit-html\";\nimport { HauntedFunc } from \"../util/customhooks\";\nimport \"../ui/dc-components\";\nimport * as DC from \"../ui/dc-components-typing\";\n\nconst observedAttributes: (keyof Properties)[] = [];\nconst useShadowDOM = false;\nconst name = \"te-transport-modes\";\n\nconst DEFAULTS: Properties = {\n\tmode: \"HIDDEN\",\n\tcheckoutData: new CheckoutData(),\n\tactionTriggered: \"none\",\n};\n\ninterface Properties {\n\tmode: CheckoutMode;\n\tcheckoutData: CheckoutData;\n\tactionTriggered: ActionType;\n}\n\nexport type TransportMode = \"personal_collection\" | \"home_delivery\" | \"none\";\n\nconst TRANSPORT_MODES: { [key in TransportMode]: string } = {\n\tpersonal_collection: \"Személyes átvétel (cím: 8360 Keszthely, Sömögyei út. 3; telefonszám: +36 (30) 207 0883)\",\n\thome_delivery: \"Házhozszállítás\",\n\tnone: \"Nincs kiválasztva\",\n};\n\nconst Component: HauntedFunc<Properties> = (host) => {\n\tconst props: Properties = {\n\t\tmode: host.mode !== undefined ? host.mode : DEFAULTS.mode,\n\t\tcheckoutData: host.checkoutData !== undefined ? host.checkoutData : DEFAULTS.checkoutData,\n\t\tactionTriggered: host.actionTriggered !== undefined ? host.actionTriggered : DEFAULTS.actionTriggered,\n\t};\n\n\tconst [checkoutData, setCheckoutData] = useState<CheckoutData>(props.checkoutData);\n\tconst [validationMessage, setValidationMessage] = useState<string>(\"\");\n\n\tuseEffect(() => {\n\t\tsetCheckoutData(props.checkoutData);\n\t}, [props.checkoutData]);\n\n\tuseEffect(() => {\n\t\tif (props.actionTriggered === \"validate_and_next\") {\n\t\t\tconst validationResult = validateAllField();\n\t\t\thost.dispatchEvent(\n\t\t\t\tnew CustomEvent<ActionFinishedEventDetail>(\"actionFinished\", { detail: { validationResult } })\n\t\t\t);\n\t\t}\n\t}, [props.actionTriggered]);\n\n\tconst validateAllField = () => {\n\t\tsetValidationMessage(\"\");\n\t\tif (checkoutData.transportMode === \"none\") {\n\t\t\tsetValidationMessage(\"Szállítási mód kiválasztása kötelező\");\n\t\t} else if (checkoutData.transportMode === \"home_delivery\" && isEmpty(checkoutData.shippingAddress.zip)) {\n\t\t\tsetValidationMessage(\"Kérem válasszon települést\");\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst handleChange = (e: DC.Radio.ChangeEvent) => {\n\t\tconst transportMode = e.detail.itemId as TransportMode;\n\t\tcheckoutData.transportMode = transportMode;\n\t\thost.dispatchEvent(\n\t\t\tnew CustomEvent<CheckoutChangeEventDetail>(\"change\", { detail: { checkoutData } })\n\t\t);\n\t};\n\n\tconst handlePlaceChange = (e: DC.Select.SelectChangeEvent) => {\n\t\tconst selectedPlace: any = homeDeliveryPlaces[e.detail.selectedIndex as number];\n\t\tCheckoutData.setSelectedPlace(checkoutData, selectedPlace.place, selectedPlace.zip);\n\t\thost.dispatchEvent(\n\t\t\tnew CustomEvent<CheckoutChangeEventDetail>(\"change\", { detail: { checkoutData } })\n\t\t);\n\t};\n\n\t// TEMPLATE\n\n\tconst header = () => {\n\t\treturn html`<h1 class=\"text-2xl leading-tight font-semibold\">Szállítási mód</h1>`;\n\t};\n\n\tconst normalTemplate = () => {\n\t\treturn html`<div>\n\t\t\t${header()}\n\t\t\t<div class=\"p-2 border bg-yellow-100\">\n\t\t\t\t<div class=\"mb-2\">\n\t\t\t\t\t<dc-radio\n\t\t\t\t\t\t.name=${\"deliveryMode\"}\n\t\t\t\t\t\t.itemId=${\"personal_collection\"}\n\t\t\t\t\t\t.checked=${checkoutData.transportMode === \"personal_collection\"}\n\t\t\t\t\t\t@change=${handleChange}\n\t\t\t\t\t\t.content=${html`${TRANSPORT_MODES.personal_collection}`}\n\t\t\t\t\t></dc-radio>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<dc-radio\n\t\t\t\t\t\t.name=${\"deliveryMode\"}\n\t\t\t\t\t\t.itemId=${\"home_delivery\"}\n\t\t\t\t\t\t.checked=${checkoutData.transportMode === \"home_delivery\"}\n\t\t\t\t\t\t.content=${html`${TRANSPORT_MODES.home_delivery}`}\n\t\t\t\t\t\t@change=${handleChange}\n\t\t\t\t\t></dc-radio>\n\t\t\t\t\t<div class=\"${checkoutData.transportMode === \"home_delivery\" ? \"\" : \"hidden\"}\">\n\t\t\t\t\t\t<div>Kérem adjon meg irányítószámot vagy településnevet *:</div>\n\t\t\t\t\t\t<div class=\"sm:w-2/3 md:w-1/2\">\n\t\t\t\t\t\t\t<dc-select\n\t\t\t\t\t\t\t\t.dataSource=${homeDeliveryPlaces.map((item) => `${item.place}, ${item.zip}`)}\n\t\t\t\t\t\t\t\t.selectedValues=${`${checkoutData.shippingAddress?.city}, ${checkoutData.shippingAddress?.zip}`}\n\t\t\t\t\t\t\t\t@change=${handlePlaceChange}\n\t\t\t\t\t\t\t></dc-select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-2 mt-4\">\n\t\t\t\t\t\t\tHázhozszállítás az alábbi településeken lehetséges jelenleg:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t${homeDeliveryPlaces.map((item) => html`<li>${item.place}, ${item.zip}</li>`)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-red-500 pt-4\">${validationMessage}</div>\n\t\t\t</div>\n\t\t</div> `;\n\t};\n\n\tconst collapsedTemplate = () => {\n\t\treturn html`<div>\n\t\t\t${header()}\n\t\t\t<div class=\"p-2 border bg-gray-100\">\n\t\t\t\t<span class=\"checkout-data\"\n\t\t\t\t\t>${TRANSPORT_MODES[checkoutData.transportMode]}\n\t\t\t\t\t${checkoutData.transportMode === \"home_delivery\"\n\t\t\t\t\t\t? `(${checkoutData.shippingAddress?.city}, ${checkoutData.shippingAddress?.zip})`\n\t\t\t\t\t\t: \"\"}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div> `;\n\t};\n\n\tif (props.mode === \"OPEN\") {\n\t\treturn normalTemplate();\n\t} else if (props.mode === \"COLLAPSED\") {\n\t\treturn collapsedTemplate();\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nif (isBrowser() && customElements.get(name) === undefined) {\n\tcustomElements.define(\n\t\tname,\n\t\tcomponent<HTMLElement & Properties>(Component, {\n\t\t\tuseShadowDOM,\n\t\t\tobservedAttributes,\n\t\t})\n\t);\n}\n\n// React Wrapper\n\nimport React from \"react\";\nimport useCustomElement from \"../util/useCustomElement\";\nimport { CheckoutData } from \"../models/v1/CheckoutData\";\nimport { isEmpty, isBrowser } from \"../util/helper\";\n\nconst TransportModes = (props) => {\n\tconst [ref] = useCustomElement(props);\n\treturn (\n\t\t<div>\n\t\t\t<te-transport-modes ref={ref} />\n\t\t</div>\n\t);\n};\n\nexport default TransportModes;\n","import { useEffect, useState, component } from \"haunted\";\nimport {\n\tCheckoutMode,\n\tCheckoutChangeEvent,\n\tActionFinishedEvent,\n\tActionType,\n\tActionFinishedEventDetail,\n\tCheckoutChangeEventDetail,\n} from \"../pages/megrendeles\";\n\nimport { html } from \"lit-html\";\nimport { HauntedFunc } from \"../util/customhooks\";\nimport \"../ui/dc-components\";\nimport * as DC from \"../ui/dc-components-typing\";\n\nconst observedAttributes: (keyof Properties)[] = [];\nconst useShadowDOM = false;\nconst name = \"te-payment-modes\";\n\nconst DEFAULTS: Properties = {\n\tmode: \"HIDDEN\",\n\tcheckoutData: new CheckoutData(),\n\tactionTriggered: \"none\",\n};\n\ninterface Properties {\n\tmode: CheckoutMode;\n\tcheckoutData: CheckoutData;\n\tactionTriggered: ActionType;\n}\n\nexport type PaymentMode = \"cash\" | \"bank_transfer\" | \"card\" | \"none\";\n\nconst PAYMENT_MODES: { [key in PaymentMode]: string } = {\n\tcash: \"Készpénz\",\n\tbank_transfer: \"Banki átutalás\",\n\tcard: \"Bankkártya\",\n\tnone: \"Nincs kiválasztva\",\n};\n\nconst Component: HauntedFunc<Properties> = (host) => {\n\tconst props: Properties = {\n\t\tmode: host.mode !== undefined ? host.mode : DEFAULTS.mode,\n\t\tcheckoutData: host.checkoutData !== undefined ? host.checkoutData : DEFAULTS.checkoutData,\n\t\tactionTriggered: host.actionTriggered !== undefined ? host.actionTriggered : DEFAULTS.actionTriggered,\n\t};\n\n\tconst [checkoutData, setCheckoutData] = useState<CheckoutData>(props.checkoutData);\n\tconst [validationMessage, setValidationMessage] = useState<string>(\"\");\n\n\tuseEffect(() => {\n\t\tsetCheckoutData(props.checkoutData);\n\t}, [props.checkoutData]);\n\n\tuseEffect(() => {\n\t\tif (props.actionTriggered === \"validate_and_next\") {\n\t\t\tconst validationResult = validateAllField();\n\t\t\thost.dispatchEvent(\n\t\t\t\tnew CustomEvent<ActionFinishedEventDetail>(\"actionFinished\", { detail: { validationResult } })\n\t\t\t);\n\t\t}\n\t}, [props.actionTriggered]);\n\n\tconst handleChange = (e: DC.Radio.ChangeEvent) => {\n\t\tconst paymentMode = e.detail.itemId as PaymentMode;\n\t\tcheckoutData.paymentMode = paymentMode;\n\t\thost.dispatchEvent(\n\t\t\tnew CustomEvent<CheckoutChangeEventDetail>(\"change\", { detail: { checkoutData } })\n\t\t);\n\t};\n\n\t// TEMPLATE\n\n\tconst header = () => {\n\t\treturn html`<h1 class=\"text-2xl leading-tight font-semibold\">Fizetési mód</h1>`;\n\t};\n\n\tconst validateAllField = () => {\n\t\tsetValidationMessage(\"\");\n\t\tif (checkoutData.paymentMode === \"none\") {\n\t\t\tsetValidationMessage(\"Fizetési mód kiválasztása kötelező\");\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst normalTemplate = () => {\n\t\treturn html`<div>\n\t\t\t${header()}\n\t\t\t<div class=\"p-2 border bg-yellow-100\">\n\t\t\t\t<div class=\"mb-2\">\n\t\t\t\t\t<dc-radio\n\t\t\t\t\t\t.name=${\"paymentMode\"}\n\t\t\t\t\t\t.itemId=${\"bank_transfer\"}\n\t\t\t\t\t\t.checked=${checkoutData.paymentMode === \"bank_transfer\"}\n\t\t\t\t\t\t.content=${html`${PAYMENT_MODES.bank_transfer}`}\n\t\t\t\t\t\t@change=${handleChange}\n\t\t\t\t\t></dc-radio>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<dc-radio\n\t\t\t\t\t\t.name=${\"paymentMode\"}\n\t\t\t\t\t\t.itemId=${\"cash\"}\n\t\t\t\t\t\t.checked=${checkoutData.paymentMode === \"cash\"}\n\t\t\t\t\t\t@change=${handleChange}\n\t\t\t\t\t\t.content=${html`<div>\n\t\t\t\t\t\t\t${PAYMENT_MODES.cash}\n\t\t\t\t\t\t</div>`}\n\t\t\t\t\t></dc-radio>\n\t\t\t\t</div>\n\t\t\t\t<!-- <div class=\"mb-2\">\n\t\t\t\t\t<dc-radio\n\t\t\t\t\t\t.name=${\"paymentMode\"}\n\t\t\t\t\t\t.itemId=${\"card\"}\n\t\t\t\t\t\t@change=${handleChange}\n\t\t\t\t\t\t.content=${html`<div>\n\t\t\t\t\t<div>Kártya</div>\n\t\t\t\t</div>`}\n\t\t\t\t\t></dc-radio>\n\t\t\t\t</div> -->\n\t\t\t\t<div class=\"text-red-500 pt-4\">${validationMessage}</div>\n\t\t\t</div>\n\t\t</div> `;\n\t};\n\n\tconst collapsedTemplate = () => {\n\t\treturn html`<div>\n\t\t\t${header()}\n\t\t\t<div class=\"p-2 border bg-gray-100\">\n\t\t\t\t<span class=\"checkout-data\">${PAYMENT_MODES[checkoutData.paymentMode]}</span>\n\t\t\t</div>\n\t\t</div> `;\n\t};\n\n\tif (props.mode === \"OPEN\") {\n\t\treturn normalTemplate();\n\t} else if (props.mode === \"COLLAPSED\") {\n\t\treturn collapsedTemplate();\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nif (isBrowser() && customElements.get(name) === undefined) {\n\tcustomElements.define(\n\t\tname,\n\t\tcomponent<HTMLElement & Properties>(Component, {\n\t\t\tuseShadowDOM,\n\t\t\tobservedAttributes,\n\t\t})\n\t);\n}\n\n// React Wrapper\n\nimport React from \"react\";\nimport useCustomElement from \"../util/useCustomElement\";\nimport { CheckoutData } from \"../models/v1/CheckoutData\";\nimport { isBrowser } from \"../util/helper\";\n\nconst PaymentModes = (props) => {\n\tconst [ref] = useCustomElement(props);\n\treturn (\n\t\t<div>\n\t\t\t<te-payment-modes ref={ref} />\n\t\t</div>\n\t);\n};\n\nexport default PaymentModes;\n","import { CheckoutData as CheckoutDataV1 } from \"../models/v1/CheckoutData\";\n\nexport class CheckoutManager {\n\tprivate sessionStorage: Storage;\n\n\tconstructor(sessionStorage: Storage) {\n\t\tthis.sessionStorage = sessionStorage;\n\t}\n\n\tpublic saveCheckoutData = (checkoutData: CheckoutDataV1) => {\n\t\tthis.sessionStorage.checkoutData = JSON.stringify(checkoutData);\n\t\tthis.sessionStorage.checkoutDataVersion = checkoutData.version;\n\t};\n\n\tpublic removeCheckoutData = () => {\n\t\tthis.sessionStorage.removeItem(\"checkoutData\");\n\t\tthis.sessionStorage.removeItem(\"checkoutDataVersion\");\n\t};\n\n\tpublic getCheckoutData = (): CheckoutDataV1 => {\n\t\tif (this.sessionStorage.checkoutData) {\n\t\t\tif (this.sessionStorage.checkoutDataVersion === \"v1\") {\n\t\t\t\tconst checkoutData = JSON.parse(this.sessionStorage.checkoutData);\n\t\t\t\treturn checkoutData;\n\t\t\t} else {\n\t\t\t\tthis.removeCheckoutData();\n\t\t\t\treturn new CheckoutDataV1();\n\t\t\t}\n\t\t} else {\n\t\t\treturn new CheckoutDataV1();\n\t\t}\n\t};\n}\n","import { useEffect, useState, component } from \"haunted\";\nimport {\n\tCheckoutMode,\n\tCheckoutChangeEvent,\n\tActionFinishedEvent,\n\tActionType,\n\tActionFinishedEventDetail,\n\tCheckoutChangeEventDetail,\n} from \"../pages/megrendeles\";\n\nimport { html } from \"lit-html\";\nimport { HauntedFunc } from \"../util/customhooks\";\nimport \"../ui/dc-components\";\nimport * as DC from \"../ui/dc-components-typing\";\n\nconst observedAttributes: (keyof Properties)[] = [];\nconst useShadowDOM = false;\nconst name = \"te-shipping-and-billing\";\n\nconst DEFAULTS: Properties = {\n\tmode: \"HIDDEN\",\n\tcheckoutData: new CheckoutData(),\n\tactionTriggered: \"none\",\n};\n\ninterface Properties {\n\tmode: CheckoutMode;\n\tcheckoutData: CheckoutData;\n\tactionTriggered: ActionType;\n}\n\nconst dispatchCheckoutChanged = (host, checkoutData) => {\n\thost.dispatchEvent(\n\t\tnew CustomEvent<CheckoutChangeEventDetail>(\"change\", { detail: { checkoutData } })\n\t);\n};\n\nconst Component: HauntedFunc<Properties> = (host) => {\n\tconst props: Properties = {\n\t\tmode: host.mode !== undefined ? host.mode : DEFAULTS.mode,\n\t\tcheckoutData: host.checkoutData !== undefined ? host.checkoutData : DEFAULTS.checkoutData,\n\t\tactionTriggered: host.actionTriggered !== undefined ? host.actionTriggered : DEFAULTS.actionTriggered,\n\t};\n\n\tconst [checkoutData, setCheckoutData] = useState<CheckoutData>(props.checkoutData);\n\tconst [validations, setValidations] = useState<\n\t\t{\n\t\t\t[key in ValidationKey]?: string;\n\t\t}\n\t>({});\n\n\tuseEffect(() => {\n\t\tsetCheckoutData(props.checkoutData);\n\t\tif (props.checkoutData.checkoutState !== checkoutData.checkoutState) {\n\t\t\tsetValidations({});\n\t\t}\n\t}, [props.checkoutData]);\n\n\tuseEffect(() => {\n\t\tif (props.actionTriggered === \"validate_and_next\") {\n\t\t\tconst validationResult = validateAllField();\n\t\t\thost.dispatchEvent(\n\t\t\t\tnew CustomEvent<ActionFinishedEventDetail>(\"actionFinished\", { detail: { validationResult } })\n\t\t\t);\n\t\t}\n\t}, [props.actionTriggered]);\n\n\tconst validateAllField = () => {\n\t\tconst toValidateList: { [key in ValidationKey]?: string } = {\n\t\t\temail: checkoutData.email,\n\t\t\tphone: checkoutData.phone?.number,\n\t\t\tbillingCity: checkoutData.billingAddress.city,\n\t\t\tbillingStreet: checkoutData.billingAddress.street,\n\t\t\tbillingZip: checkoutData.billingAddress.zip,\n\t\t};\n\n\t\tif (checkoutData.transportMode === \"home_delivery\") {\n\t\t\ttoValidateList.shippingName = checkoutData.shippingAddress.name;\n\t\t\ttoValidateList.shippingCity = checkoutData.shippingAddress.city;\n\t\t\ttoValidateList.shippingStreet = checkoutData.shippingAddress.street;\n\t\t\ttoValidateList.shippingZip = checkoutData.shippingAddress.zip;\n\t\t\ttoValidateList.shippingRemark = checkoutData.shippingAddress.remark;\n\t\t}\n\n\t\tif (checkoutData.billingAddress.isCompany) {\n\t\t\ttoValidateList.billingCompanyName = checkoutData.billingAddress.companyName;\n\t\t\ttoValidateList.billingTaxNumber = checkoutData.billingAddress.taxNumber;\n\t\t} else {\n\t\t\ttoValidateList.billingPersonalName = checkoutData.billingAddress.personalName;\n\t\t}\n\n\t\tconst evaluation: { [key in ValidationKey]?: string } = {};\n\n\t\tObject.keys(toValidateList).forEach((key: string) => {\n\t\t\tevaluation[key] = CheckoutData.getValidationMessage(key as ValidationKey, toValidateList[key]);\n\t\t});\n\n\t\tsetValidations({\n\t\t\t...validations,\n\t\t\t...evaluation,\n\t\t});\n\n\t\treturn Object.keys(evaluation).reduce((aggr, key) => {\n\t\t\treturn aggr && evaluation[key] === undefined;\n\t\t}, true);\n\t};\n\n\tconst validateField = (field: ValidationKey, value: string) => {\n\t\tconst validatedField = {};\n\t\tconst message = CheckoutData.getValidationMessage(field, value);\n\t\tvalidatedField[field] = message;\n\t\tsetValidations({\n\t\t\t...validations,\n\t\t\t...validatedField,\n\t\t});\n\t};\n\n\t// TEMPLATE\n\n\tconst shippingAddressTemplate = (readonly: boolean) => {\n\t\treturn html`<h2 class=\"text-xl py-4\">Szállítási cím</h2>\n\t\t\t<div>\n\t\t\t\t${checkoutData.transportMode === \"personal_collection\"\n\t\t\t\t\t? html`<div>Személyes átvétel</div>`\n\t\t\t\t\t: html`<div class=\"pb-2\">\n\t\t\t\t\t\t\t\t<dc-input\n\t\t\t\t\t\t\t\t\t.label=${\"Név (vagy cégnév)*\"}\n\t\t\t\t\t\t\t\t\t.value=${checkoutData.shippingAddress.name}\n\t\t\t\t\t\t\t\t\t.validationMessage=${validations.shippingName}\n\t\t\t\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\t\t\t\tvalidateField(\"shippingName\", e.detail.value);\n\n\t\t\t\t\t\t\t\t\t\tcheckoutData.shippingAddress.name = e.detail.value;\n\t\t\t\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></dc-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"pb-2\">\n\t\t\t\t\t\t\t\t<dc-input\n\t\t\t\t\t\t\t\t\t.label=${\"Utca, házszám*\"}\n\t\t\t\t\t\t\t\t\t.placeholder=${\"pl.: Kossuth Lajos u. 4.\"}\n\t\t\t\t\t\t\t\t\t.value=${checkoutData.shippingAddress.street}\n\t\t\t\t\t\t\t\t\t.validationMessage=${validations.shippingStreet}\n\t\t\t\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\t\t\t\tvalidateField(\"shippingStreet\", e.detail.value);\n\n\t\t\t\t\t\t\t\t\t\tcheckoutData.shippingAddress.street = e.detail.value;\n\t\t\t\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></dc-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"pb-2 flex\">\n\t\t\t\t\t\t\t\t<dc-input\n\t\t\t\t\t\t\t\t\tclass=\"w-20\"\n\t\t\t\t\t\t\t\t\t.label=${\"Ir.szám*\"}\n\t\t\t\t\t\t\t\t\t.value=${checkoutData.shippingAddress.zip}\n\t\t\t\t\t\t\t\t\t.validationMessage=${validations.shippingZip}\n\t\t\t\t\t\t\t\t\t.readonly=${true}\n\t\t\t\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\t\t\t\tvalidateField(\"shippingZip\", e.detail.value);\n\n\t\t\t\t\t\t\t\t\t\tcheckoutData.shippingAddress.zip = e.detail.value;\n\t\t\t\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></dc-input>\n\t\t\t\t\t\t\t\t<dc-input\n\t\t\t\t\t\t\t\t\tclass=\"w-full ml-2\"\n\t\t\t\t\t\t\t\t\t.label=${\"Település*\"}\n\t\t\t\t\t\t\t\t\t.value=${checkoutData.shippingAddress.city}\n\t\t\t\t\t\t\t\t\t.validationMessage=${validations.shippingCity}\n\t\t\t\t\t\t\t\t\t.readonly=${true}\n\t\t\t\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\t\t\t\tvalidateField(\"shippingCity\", e.detail.value);\n\n\t\t\t\t\t\t\t\t\t\tcheckoutData.shippingAddress.city = e.detail.value;\n\t\t\t\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></dc-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<dc-input\n\t\t\t\t\t\t\t\t\t.label=${\"Megjegyzés a szállítónak (opcionális)\"}\n\t\t\t\t\t\t\t\t\t.value=${checkoutData.shippingAddress.remark}\n\t\t\t\t\t\t\t\t\t.multiline=${true}\n\t\t\t\t\t\t\t\t\t.validationMessage=${validations.shippingRemark}\n\t\t\t\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t\t\t\t.rows=${6}\n\t\t\t\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\t\t\t\tvalidateField(\"shippingRemark\", e.detail.value);\n\n\t\t\t\t\t\t\t\t\t\tcheckoutData.shippingAddress.remark = e.detail.value;\n\t\t\t\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></dc-input>\n\t\t\t\t\t\t\t</div>`}\n\t\t\t</div>`;\n\t};\n\n\tconst billingAddressTemplate = (readonly: boolean) => {\n\t\treturn html`<div class=\"flex justify-between items-baseline\">\n\t\t\t\t<div><h2 class=\"text-xl py-4\">Számlázási adatok</h2></div>\n\t\t\t\t<div>\n\t\t\t\t\t${readonly\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: html`<a\n\t\t\t\t\t\t\t\tclass=\"link cursor-pointer\"\n\t\t\t\t\t\t\t\t@click=${(e: any) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tcheckoutData.billingAddress.isCompany = !checkoutData.billingAddress.isCompany;\n\t\t\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t>${checkoutData.billingAddress.isCompany\n\t\t\t\t\t\t\t\t\t? \"Magánszemélyként vásárolok\"\n\t\t\t\t\t\t\t\t\t: \"Cégként vásárolok\"}</a\n\t\t\t\t\t\t  >`}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div></div>\n\t\t\t\t<div class=\"pb-2 ${checkoutData.billingAddress.isCompany ? \"hidden\" : \"\"}\">\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\t.label=${\"Név*\"}\n\t\t\t\t\t\t.value=${checkoutData.billingAddress.personalName}\n\t\t\t\t\t\t.validationMessage=${validations.billingPersonalName}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"billingPersonalName\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.billingAddress.personalName = e.detail.value;\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pb-2 ${checkoutData.billingAddress.isCompany ? \"\" : \"hidden\"}\">\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\t.label=${\"Cégnév*\"}\n\t\t\t\t\t\t.value=${checkoutData.billingAddress.companyName}\n\t\t\t\t\t\t.validationMessage=${validations.billingCompanyName}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"billingCompanyName\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.billingAddress.companyName = e.detail.value;\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pb-2 ${checkoutData.billingAddress.isCompany ? \"\" : \"hidden\"}\">\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\t.label=${\"Adószám*\"}\n\t\t\t\t\t\t.value=${checkoutData.billingAddress.taxNumber}\n\t\t\t\t\t\t.validationMessage=${validations.billingTaxNumber}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"billingTaxNumber\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.billingAddress.taxNumber = e.detail.value;\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pb-2\">\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\t.label=${\"Utca, házszám*\"}\n\t\t\t\t\t\t.placeholder=${\"pl.: Kossuth Lajos u. 4.\"}\n\t\t\t\t\t\t.value=${checkoutData.billingAddress.street}\n\t\t\t\t\t\t.validationMessage=${validations.billingStreet}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"billingStreet\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.billingAddress.street = e.detail.value;\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pb-2 flex\">\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\tclass=\"w-20\"\n\t\t\t\t\t\t.label=${\"Ir.szám*\"}\n\t\t\t\t\t\t.value=${checkoutData.billingAddress.zip}\n\t\t\t\t\t\t.validationMessage=${validations.billingZip}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"billingZip\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.billingAddress.zip = e.detail.value;\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\tclass=\"w-full ml-2\"\n\t\t\t\t\t\t.label=${\"Település*\"}\n\t\t\t\t\t\t.value=${checkoutData.billingAddress.city}\n\t\t\t\t\t\t.validationMessage=${validations.billingCity}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"billingCity\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.billingAddress.city = e.detail.value;\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t};\n\n\tconst emailAndPhoneTemplate = (readonly: boolean) => {\n\t\treturn html`<div class=\"md:flex pb-2\">\n\t\t\t<div class=\"md:w-1/2\">\n\t\t\t\t<dc-input\n\t\t\t\t\t.label=${\"Email*\"}\n\t\t\t\t\t.value=${checkoutData.email}\n\t\t\t\t\t.validationMessage=${validations.email}\n\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t.email=${true}\n\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\tvalidateField(\"email\", e.detail.value);\n\n\t\t\t\t\t\tcheckoutData.email = e.detail.value;\n\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t}}\n\t\t\t\t></dc-input>\n\t\t\t</div>\n\t\t\t<div class=\"md:w-1/2 flex \">\n\t\t\t\t<div class=\"md:ml-8 mr-2 w-20\">\n\t\t\t\t\t<dc-input class=\"pt-6\" .value=${\"+36\"} .readonly=${true}></dc-input>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t<dc-input\n\t\t\t\t\t\t.label=${\"Telefonszám*\"}\n\t\t\t\t\t\t.value=${checkoutData.phone?.number}\n\t\t\t\t\t\t.validationMessage=${validations.phone}\n\t\t\t\t\t\t.readonly=${readonly}\n\t\t\t\t\t\t@change=${(e: DC.Input.ChangeEvent) => {\n\t\t\t\t\t\t\tvalidateField(\"phone\", e.detail.value);\n\n\t\t\t\t\t\t\tcheckoutData.phone = { countryPrefix: \"36\", number: e.detail.value };\n\t\t\t\t\t\t\tdispatchCheckoutChanged(host, checkoutData);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></dc-input>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`;\n\t};\n\n\tconst normalTemplate = () => {\n\t\treturn html`<div>\n\t\t\t<h1 class=\"text-2xl leading-tight font-semibold\">Szállítási és számlázási adatok</h1>\n\t\t\t<div class=\"p-2 border bg-yellow-100\">\n\t\t\t\t${emailAndPhoneTemplate(false)}\n\t\t\t\t<div class=\"md:flex\">\n\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t${shippingAddressTemplate(false)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"md:ml-8 w-full\">${billingAddressTemplate(false)}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div> `;\n\t};\n\n\tconst collapsedTemplate = () => {\n\t\treturn html`<div>\n\t\t\t<h1 class=\"text-2xl leading-tight font-semibold\">Szállítási és számlázási adatok</h1>\n\t\t\t<div class=\"p-2 border bg-gray-100\">\n\t\t\t\t<div>Email: <span class=\"checkout-data\">${checkoutData.email}</span></div>\n\t\t\t\t<div>\n\t\t\t\t\tTelefonszám:\n\t\t\t\t\t<span class=\"checkout-data\">+${checkoutData.phone.countryPrefix} ${checkoutData.phone.number}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-4 mb-2 text-xl font-semibold\">Szállítási cím</div>\n\t\t\t\t${checkoutData.transportMode === \"personal_collection\"\n\t\t\t\t\t? html`<div><span class=\"checkout-data\">Személyes átvétel</span></div>`\n\t\t\t\t\t: html`<div>\n\t\t\t\t\t\t\t<div><span class=\"checkout-data\">${checkoutData.shippingAddress.name}</span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class=\"checkout-data\"\n\t\t\t\t\t\t\t\t\t>${checkoutData.shippingAddress.city}, ${checkoutData.shippingAddress.street}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div><span class=\"checkout-data\">${checkoutData.shippingAddress.zip}</span></div>\n\t\t\t\t\t\t\t${!isEmpty(checkoutData.shippingAddress.remark)\n\t\t\t\t\t\t\t\t? html`<div class=\"pt-2\">\n\t\t\t\t\t\t\t\t\t\tMegjegyzés a szállítónak:\n\t\t\t\t\t\t\t\t\t\t<span class=\"checkout-data\">${checkoutData.shippingAddress.remark}</span>\n\t\t\t\t\t\t\t\t  </div>`\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t  </div>`}\n\n\t\t\t\t<div class=\"mt-4 mb-2 text-xl font-semibold\">Számlázási adatok</div>\n\t\t\t\t${checkoutData.billingAddress.isCompany\n\t\t\t\t\t? html`<div>\n\t\t\t\t\t\t\t\tCégnév: <span class=\"checkout-data\">${checkoutData.billingAddress.companyName}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tAdószám: <span class=\"checkout-data\">${checkoutData.billingAddress.taxNumber}</span>\n\t\t\t\t\t\t\t</div>`\n\t\t\t\t\t: html`<div>\n\t\t\t\t\t\t\t<span class=\"checkout-data\">${checkoutData.billingAddress.personalName}</span>\n\t\t\t\t\t  </div>`}\n\n\t\t\t\t<div>\n\t\t\t\t\t<span class=\"checkout-data\"\n\t\t\t\t\t\t>${checkoutData.billingAddress.city}, ${checkoutData.billingAddress.street}</span\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div><span class=\"checkout-data\">${checkoutData.billingAddress.zip}</span></div>\n\t\t\t</div>\n\t\t</div> `;\n\t};\n\n\tif (props.mode === \"OPEN\") {\n\t\treturn normalTemplate();\n\t} else if (props.mode === \"COLLAPSED\") {\n\t\treturn collapsedTemplate();\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nif (isBrowser() && customElements.get(name) === undefined) {\n\tcustomElements.define(\n\t\tname,\n\t\tcomponent<HTMLElement & Properties>(Component, {\n\t\t\tuseShadowDOM,\n\t\t\tobservedAttributes,\n\t\t})\n\t);\n}\n\n// React Wrapper\n\nimport React from \"react\";\nimport useCustomElement from \"../util/useCustomElement\";\nimport { CheckoutData, ValidationKey } from \"../models/v1/CheckoutData\";\nimport { isEmpty, isBrowser } from \"../util/helper\";\n\nconst ShippingAndBillingInfo = (props) => {\n\tconst [ref] = useCustomElement(props);\n\treturn (\n\t\t<div>\n\t\t\t<te-shipping-and-billing ref={ref} />\n\t\t</div>\n\t);\n};\n\nexport default ShippingAndBillingInfo;\n","import React, { useEffect, useState, useMemo, useContext } from \"react\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport ShoppingCart from \"../components/shopping_cart\";\nimport TransportModes from \"../cc/transport_modes\";\nimport PaymentModes from \"../cc/payment_modes\";\nimport { CheckoutData, CHECKOUT_STATES, CheckoutState } from \"../models/v1/CheckoutData\";\nimport { CheckoutManager } from \"../util/CheckoutManager\";\nimport ShippingAndBillingInfo from \"../cc/shipping_and_billing_info\";\nimport DCCheckbox from \"../ui/dc-checkbox\";\nimport * as DC from \"../ui/dc-components-typing\";\nimport { CartManager } from \"../util/CartManager\";\nimport { GlobalDispatchContext, GlobalStateContext } from \"../context/GlobalContextProvider\";\nimport { isBrowser } from \"../util/helper\";\nimport { navigate } from \"gatsby\";\n\nexport type CheckoutMode = \"HIDDEN\" | \"OPEN\" | \"COLLAPSED\";\n\nexport type ActionType = \"validate_and_next\" | \"none\";\n\nexport interface ActionFinishedEventDetail {\n\tvalidationResult?: boolean;\n}\n\nexport interface ActionFinishedEvent {\n\tdetail: ActionFinishedEventDetail;\n}\n\nexport interface CheckoutChangeEventDetail {\n\tcheckoutData: CheckoutData;\n}\n\nexport interface CheckoutChangeEvent {\n\tdetail: CheckoutChangeEventDetail;\n}\n\nconst CheckoutPage = () => {\n\tconst globalDispatch = useContext(GlobalDispatchContext);\n\tconst globalState = useContext(GlobalStateContext);\n\tconst [checkoutData, setCheckoutData] = useState<CheckoutData>();\n\tconst [actionShippingAndBilling, setActionShippingAndBilling] = useState<ActionType>(\"none\");\n\tconst [actionTransportModes, setActionTransportModes] = useState<ActionType>(\"none\");\n\tconst [actionPaymentModes, setActionPaymentModes] = useState<ActionType>(\"none\");\n\tconst [validationMessage, setValidationMessage] = useState<string>();\n\n\tconst getCheckoutMode = (elem: CheckoutState): CheckoutMode => {\n\t\tif (checkoutData) {\n\t\t\tconst currentIndex = CheckoutData.getCurrentStateIndex(checkoutData);\n\t\t\tconst elemIndex = CHECKOUT_STATES.findIndex((state) => state === elem);\n\t\t\tif (currentIndex > elemIndex) {\n\t\t\t\treturn \"COLLAPSED\";\n\t\t\t} else if (currentIndex === elemIndex) {\n\t\t\t\treturn \"OPEN\";\n\t\t\t} else {\n\t\t\t\treturn \"HIDDEN\";\n\t\t\t}\n\t\t} else {\n\t\t\treturn \"HIDDEN\";\n\t\t}\n\t};\n\n\tconst handleCheckoutChange = (e: CheckoutChangeEvent) => {\n\t\tsetCheckoutData({ ...e.detail.checkoutData });\n\t};\n\n\tuseEffect(() => {\n\t\tif (checkoutData) {\n\t\t\tnew CheckoutManager(window.sessionStorage).saveCheckoutData(checkoutData);\n\t\t}\n\t}, [checkoutData]);\n\n\tuseEffect(() => {\n\t\tsetCheckoutData(new CheckoutManager(window.sessionStorage).getCheckoutData());\n\t}, []);\n\n\tconst actionButtonTemplate = () => {\n\t\tif (checkoutData?.checkoutState === \"SUMMARY\") {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-primary btn-green mb-2 md:mb-0\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\tif (!checkoutData.tAndCAccepted) {\n\t\t\t\t\t\t\t\tsetValidationMessage(\"Kérem fogadja el az Általános szerződési feltételeket\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetValidationMessage(\"\");\n\n\t\t\t\t\t\t\t\t// TODO: send order\n\t\t\t\t\t\t\t\tnew CartManager(window.localStorage).removeShoppingCart();\n\t\t\t\t\t\t\t\tglobalDispatch({ type: \"SET_CART_ITEM_NUM\", num: 0 });\n\n\t\t\t\t\t\t\t\t// reset state\n\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\tcheckoutState: \"TRANSPORT_MODES\",\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tnavigate(`/visszaigazolas`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRendelés elküldése\n\t\t\t\t</button>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-primary mb-2 md:mb-0\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\tif (checkoutData.checkoutState === \"SHIPPING_AND_BILLING_INFO\") {\n\t\t\t\t\t\t\t\tsetActionShippingAndBilling(\"validate_and_next\");\n\t\t\t\t\t\t\t} else if (checkoutData.checkoutState === \"TRANSPORT_MODES\") {\n\t\t\t\t\t\t\t\tsetActionTransportModes(\"validate_and_next\");\n\t\t\t\t\t\t\t} else if (checkoutData.checkoutState === \"PAYMENT_MODES\") {\n\t\t\t\t\t\t\t\tsetActionPaymentModes(\"validate_and_next\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\tcheckoutState: CheckoutData.getNextState(checkoutData),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tTovább\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst checkoutTemplate = (\n\t\t<div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<ShoppingCart summary={true} />\n\t\t\t</div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<TransportModes\n\t\t\t\t\tmode={getCheckoutMode(\"TRANSPORT_MODES\")}\n\t\t\t\t\tcheckoutData={checkoutData}\n\t\t\t\t\tonChange={handleCheckoutChange}\n\t\t\t\t\tactionTriggered={actionTransportModes}\n\t\t\t\t\tactionFinished={(e: ActionFinishedEvent) => {\n\t\t\t\t\t\tsetActionTransportModes(\"none\");\n\t\t\t\t\t\tif (e.detail.validationResult === true) {\n\t\t\t\t\t\t\tsetValidationMessage(undefined);\n\t\t\t\t\t\t\tif (actionTransportModes === \"validate_and_next\") {\n\t\t\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\t\tcheckoutState: CheckoutData.getNextState(checkoutData),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<PaymentModes\n\t\t\t\t\tmode={getCheckoutMode(\"PAYMENT_MODES\")}\n\t\t\t\t\tcheckoutData={checkoutData}\n\t\t\t\t\tonChange={handleCheckoutChange}\n\t\t\t\t\tactionTriggered={actionPaymentModes}\n\t\t\t\t\tactionFinished={(e: ActionFinishedEvent) => {\n\t\t\t\t\t\tsetActionPaymentModes(\"none\");\n\t\t\t\t\t\tif (e.detail.validationResult === true) {\n\t\t\t\t\t\t\tsetValidationMessage(undefined);\n\t\t\t\t\t\t\tif (actionPaymentModes === \"validate_and_next\") {\n\t\t\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\t\tcheckoutState: CheckoutData.getNextState(checkoutData),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<ShippingAndBillingInfo\n\t\t\t\t\tmode={getCheckoutMode(\"SHIPPING_AND_BILLING_INFO\")}\n\t\t\t\t\tcheckoutData={checkoutData}\n\t\t\t\t\tonChange={handleCheckoutChange}\n\t\t\t\t\tactionTriggered={actionShippingAndBilling}\n\t\t\t\t\tactionFinished={(e: ActionFinishedEvent) => {\n\t\t\t\t\t\tsetActionShippingAndBilling(\"none\");\n\t\t\t\t\t\tif (e.detail.validationResult === true) {\n\t\t\t\t\t\t\tsetValidationMessage(undefined);\n\t\t\t\t\t\t\tif (actionShippingAndBilling === \"validate_and_next\") {\n\t\t\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\t\tcheckoutState: CheckoutData.getNextState(checkoutData),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetValidationMessage(\"Hibás adatok, kérem ellenőrizze.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{checkoutData?.checkoutState === \"SUMMARY\" ? (\n\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t<div className=\"w-8\">\n\t\t\t\t\t\t\t<DCCheckbox\n\t\t\t\t\t\t\t\tchecked={checkoutData?.tAndCAccepted}\n\t\t\t\t\t\t\t\tonChange={(e: DC.Checkbox.ChangeEvent) => {\n\t\t\t\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\t\t\ttAndCAccepted: !e.detail.checked,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></DCCheckbox>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tElfogadom az{\" \"}\n\t\t\t\t\t\t\t<a className=\"link\" href=\"/altalanos-szerzodesi-feltetelek\" target=\"_blank\">\n\t\t\t\t\t\t\t\tÁltalános szerződési feltételek\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t-et (ÁSZF) és az{\" \"}\n\t\t\t\t\t\t\t<a className=\"link\" href=\"/adatvedelmi-tajekoztato\" target=\"_blank\">\n\t\t\t\t\t\t\t\tAdatvédelmi tájékoztató\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t-t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<div className=\"flex flex-wrap md:flex-no-wrap justify-center md:justify-end\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary btn-light mb-2 md:mr-2 md:mb-0\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (checkoutData) {\n\t\t\t\t\t\t\t\tsetValidationMessage(\"\");\n\t\t\t\t\t\t\t\tif (checkoutData.checkoutState === \"TRANSPORT_MODES\") {\n\t\t\t\t\t\t\t\t\tnavigate(\"/kosar\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetCheckoutData({\n\t\t\t\t\t\t\t\t\t\t...checkoutData,\n\t\t\t\t\t\t\t\t\t\tcheckoutState: CheckoutData.getPreviousState(checkoutData),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tVissza\n\t\t\t\t\t</button>\n\t\t\t\t\t{actionButtonTemplate()}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-red-500\">{validationMessage}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<SEO title=\"Megrendelés\" />\n\t\t\t<div className=\"container px-4 py-4\">\n\t\t\t\t{isBrowser() ? globalState.numberOfItems > 0 ? checkoutTemplate : <ShoppingCart summary={true} /> : \"\"}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default CheckoutPage;\n"],"sourceRoot":""}