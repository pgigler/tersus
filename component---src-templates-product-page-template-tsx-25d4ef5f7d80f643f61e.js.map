{"version":3,"sources":["webpack:///./src/components/preview-compatible-image.tsx","webpack:///./src/components/product-item.tsx","webpack:///./src/templates/ProductPageTemplate.tsx"],"names":["PreviewCompatibleImage","info","fixedImageEdges","fixed","getFixed","name","alt","getAsset","safePreviewStyle","previewStyle","src","getImageUrlFromAsset","style","ProductItem","product","isPreview","globalDispatch","useContext","GlobalDispatchContext","key","id","className","imagename","width","display","formatMoney","price","onClick","CartManager","window","localStorage","addToCart","subtitle","sections","map","section","i","title","ps","j","subsections","subsection","k","l","warnings","warning","ProductPageTemplate","pageContext","data","useEffect","products","getProducts","allMarkdownRemark","edges","node","setProducts","useState","filter","productId","allFile"],"mappings":"gjpBAsBeA,EAjBgB,SAAC,GAI1B,IAHLC,EAGK,EAHLA,KAIA,GAAMA,EAAKC,gBACV,OAAO,kBAAC,IAAD,CAAKC,MAAOC,YAASH,EAAKC,gBAAiBD,EAAKI,MAAOC,IAAKL,EAAKK,MAGzE,GAAML,EAAKM,SAAU,CACpB,IAAMC,EAAmBP,EAAKQ,aAAeR,EAAKQ,aAAe,GACjE,OAAO,yBAAKC,IAAKC,YAAqBV,EAAKM,SAAUN,EAAKI,MAAOC,IAAKL,EAAKK,IAAKM,MAAOJ,IAGxF,OAAO,kD,wBC4EOK,EAxFK,SAAC,GAUf,IATLC,EASK,EATLA,QACAZ,EAQK,EARLA,gBACAK,EAOK,EAPLA,SACAQ,EAMK,EANLA,UAOMC,EAAiBC,qBAAWC,yBAElC,OACC,yBAAKC,IAAKL,EAAQM,GAAIC,UAAU,qCAAqCD,GAAIN,EAAQM,IAChF,yBAAKC,UAAU,oCACd,wBAAIA,UAAU,6CAA6CP,EAAQT,MACnE,6BACC,kBAAC,EAAD,CACCJ,KAAM,CACLI,KAAMS,EAAQQ,UACdhB,IAAKQ,EAAQT,KACbH,kBACAK,WACAE,aAAc,CAAEc,MAAO,QAASC,QAAS,oBAI5C,yBAAKH,UAAU,yBAAyBI,YAAYX,EAAQY,QAC1DX,EAUD,GATA,4BACCM,UAAU,uBACVM,QAAS,WACR,IAAIC,IAAYC,OAAOC,cAAcC,UAAUjB,EAAS,EAAGE,KAH7D,YAYF,yBAAKK,UAAU,mBACd,wBAAIA,UAAU,sDAAsDP,EAAQkB,UAC3ElB,EAAQmB,SACR,6BACEnB,EAAQmB,SAASC,KAAI,SAACC,EAASC,GAAV,eACrB,yBAAKjB,IAAKiB,GACU,KAAlBD,EAAQE,MACR,wBAAIhB,UAAU,kDAAkDc,EAAQE,OAExE,GAJF,UAMEF,EAAQG,UANV,aAME,EAAYJ,KAAI,SAACI,EAAIC,GAAL,OAChB,yBAAKpB,IAAKoB,EAAGlB,UAAU,QACrBiB,MARJ,UAWEH,EAAQK,mBAXV,aAWE,EAAqBN,KAAI,SAACO,EAAYC,GAAb,OACzB,yBAAKvB,IAAKuB,EAAGrB,UAAU,QACtB,wBAAIA,UAAU,iDACZoB,EAAWJ,OAEZI,EAAWH,GAAGJ,KAAI,SAACI,EAAIK,GAAL,OAClB,yBAAKxB,IAAKwB,EAAGtB,UAAU,QACrBiB,cAOP,yBAAKjB,UAAU,QACbP,EAAQ8B,SAASV,KAAI,SAACW,EAAST,GAAV,OACrB,yBAAKjB,IAAKiB,EAAGf,UAAU,8BACrBwB,QAML,MCtBUC,UA1Da,SAAC,GAAoB,IAAlBC,EAAkB,EAAlBA,YACxBC,EAAO,OA4BbC,qBAAU,WACT,IAAMC,EAAWC,YAAYH,EAAKI,kBAAkBC,MAAM,GAAGC,MAC7DC,EAAYL,KACV,IAhC6C,MAkChBM,mBAAoB,IAA7CN,EAlCyC,KAkC/BK,EAlC+B,KAoChD,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAKlB,MAAM,YACX,yBAAKhB,UAAU,aACd,yBAAKA,UAAU,aACb6B,EACCO,QAAO,SAAC3C,GAAD,OAAaA,EAAQM,KAAO2B,EAAYW,aAC/CxB,KAAI,SAACpB,GAAD,OACJ,kBAAC,EAAD,CACCK,IAAKL,EAAQM,GACbN,QAASA,EACTZ,gBAAiB8C,EAAKW,QAAQN,MAC9BtC,WAAW,QAIf,yBAAKM,UAAU","file":"component---src-templates-product-page-template-tsx-25d4ef5f7d80f643f61e.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Img from \"gatsby-image\";\nimport { getFixed, getImageUrlFromAsset } from \"../util/helper\";\n\nconst PreviewCompatibleImage = ({\n\tinfo,\n}: {\n\tinfo: { name: string; alt: string; fixedImageEdges: any; getAsset: any; previewStyle?: any };\n}) => {\n\tif (!!info.fixedImageEdges) {\n\t\treturn <Img fixed={getFixed(info.fixedImageEdges, info.name)} alt={info.alt} />;\n\t}\n\n\tif (!!info.getAsset) {\n\t\tconst safePreviewStyle = info.previewStyle ? info.previewStyle : {};\n\t\treturn <img src={getImageUrlFromAsset(info.getAsset, info.name)} alt={info.alt} style={safePreviewStyle} />;\n\t}\n\n\treturn <div>\"no image found\"</div>;\n};\n\nexport default PreviewCompatibleImage;\n","import React, { useContext } from \"react\";\nimport Product from \"../interfaces/Product\";\nimport PreviewCompatibleImage from \"./preview-compatible-image\";\nimport { GlobalDispatchContext } from \"../context/GlobalContextProvider\";\nimport { CartManager } from \"../util/CartManager\";\nimport { formatMoney } from \"../util/helper\";\n\nconst ProductItem = ({\n\tproduct,\n\tfixedImageEdges,\n\tgetAsset,\n\tisPreview,\n}: {\n\tproduct: Product;\n\tfixedImageEdges?: any;\n\tgetAsset?: (...args: any[]) => any;\n\tisPreview: boolean;\n}) => {\n\tconst globalDispatch = useContext(GlobalDispatchContext);\n\n\treturn (\n\t\t<div key={product.id} className=\"flex flex-wrap md:flex-column mb-8\" id={product.id}>\n\t\t\t<div className=\"w-full md:w-1/2 text-center mb-8\">\n\t\t\t\t<h1 className=\"text-4xl leading-tight font-semibold mb-4\">{product.name}</h1>\n\t\t\t\t<div>\n\t\t\t\t\t<PreviewCompatibleImage\n\t\t\t\t\t\tinfo={{\n\t\t\t\t\t\t\tname: product.imagename,\n\t\t\t\t\t\t\talt: product.name,\n\t\t\t\t\t\t\tfixedImageEdges,\n\t\t\t\t\t\t\tgetAsset,\n\t\t\t\t\t\t\tpreviewStyle: { width: \"200px\", display: \"inline-block\" },\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-xl font-semibold\">{formatMoney(product.price)}</div>\n\t\t\t\t{!isPreview ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"mt-4 btn btn-primary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tnew CartManager(window.localStorage).addToCart(product, 1, globalDispatch);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tKos√°rba\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"w-full md:w-1/2\">\n\t\t\t\t<h2 className=\"pt-1 text-xl leading-tight uppercase font-semibold\">{product.subtitle}</h2>\n\t\t\t\t{product.sections ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{product.sections.map((section, i) => (\n\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t{section.title !== \"\" ? (\n\t\t\t\t\t\t\t\t\t<h2 className=\"pt-8 pb-2 text-2xl leading-tight font-semibold\">{section.title}</h2>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{section.ps?.map((ps, j) => (\n\t\t\t\t\t\t\t\t\t<div key={j} className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t{ps}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{section.subsections?.map((subsection, k) => (\n\t\t\t\t\t\t\t\t\t<div key={k} className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"pt-8 pb-2 text-lg leading-tight font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t{subsection.title}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t{subsection.ps.map((ps, l) => (\n\t\t\t\t\t\t\t\t\t\t\t<div key={l} className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ps}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t\t{product.warnings.map((warning, i) => (\n\t\t\t\t\t\t\t\t<div key={i} className=\"text-red-500 font-semibold\">\n\t\t\t\t\t\t\t\t\t{warning}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ProductItem;\n","import React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport ProductItem from \"../components/product-item\";\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport Product from \"../interfaces/Product\";\nimport { getProducts } from \"../util/helper\";\n\nconst ProductPageTemplate = ({ pageContext }) => {\n\tconst data = useStaticQuery(graphql`\n\t\tquery ProductPageTemplateQuery {\n\t\t\tallFile(filter: { extension: { regex: \"/(jpg)|(png)|(jpeg)/\" }, relativeDirectory: { eq: \"products\" } }) {\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\trelativePath\n\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\tfixed(width: 200) {\n\t\t\t\t\t\t\t\t...GatsbyImageSharpFixed\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tallMarkdownRemark(filter: { frontmatter: { title: { eq: \"products\" } } }) {\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\tfrontmatter {\n\t\t\t\t\t\t\tcontent {\n\t\t\t\t\t\t\t\tcode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`);\n\n\tuseEffect(() => {\n\t\tconst products = getProducts(data.allMarkdownRemark.edges[0].node);\n\t\tsetProducts(products);\n\t}, []);\n\n\tconst [products, setProducts] = useState<Product[]>([]);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<SEO title=\"Product\" />\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"pt-4 px-4\">\n\t\t\t\t\t{products\n\t\t\t\t\t\t.filter((product) => product.id === pageContext.productId)\n\t\t\t\t\t\t.map((product) => (\n\t\t\t\t\t\t\t<ProductItem\n\t\t\t\t\t\t\t\tkey={product.id}\n\t\t\t\t\t\t\t\tproduct={product}\n\t\t\t\t\t\t\t\tfixedImageEdges={data.allFile.edges}\n\t\t\t\t\t\t\t\tisPreview={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default ProductPageTemplate;\n"],"sourceRoot":""}